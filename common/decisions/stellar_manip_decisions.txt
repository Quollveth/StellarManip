###########################
#####Stellar Harvester#####
###########################

decision_harvest_stellar_matter_o = {
	owned_planets_only = no
	icon = decision_harvest_stellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_t_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_giga_o_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys = @harvester_alloy_cost_o_star
			energy = 7500
		}
	}
	prerequisites = {
		tech_stellar_manip_harvester
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_harvester"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0100
			}
		}
	}
}

decision_harvest_stellar_matter_b = {
	owned_planets_only = no
	icon = decision_harvest_stellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_t_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_b_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys = @harvester_alloy_cost_b_star
			energy = 7500
		}
	}
	prerequisites = {
		tech_stellar_manip_harvester
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_harvester"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0100
			}
		}
	}
}

decision_harvest_stellar_matter_a = {
	owned_planets_only = no
	icon = decision_harvest_stellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_t_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_a_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys = @harvester_alloy_cost_a_star
			energy = 7500
		}
	}
	prerequisites = {
		tech_stellar_manip_harvester
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_harvester"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0100
			}
		}
	}
}

decision_harvest_stellar_matter_f = {
	owned_planets_only = no
	icon = decision_harvest_stellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_t_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_f_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys = @harvester_alloy_cost_f_star
			energy = 7500
		}
	}
	prerequisites = {
		tech_stellar_manip_harvester
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_harvester"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0100
			}
		}
	}
}

decision_harvest_stellar_matter_g = {
	owned_planets_only = no
	icon = decision_harvest_stellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_t_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_g_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys = @harvester_alloy_cost_g_star
			energy = 7500
		}
	}
	prerequisites = {
		tech_stellar_manip_harvester
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_harvester"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0100
			}
		}
	}
}

decision_harvest_stellar_matter_k = {
	owned_planets_only = no
	icon = decision_harvest_stellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_t_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_k_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys = @harvester_alloy_cost_k_star
			energy = 7500
		}
	}
	prerequisites = {
		tech_stellar_manip_harvester
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_harvester"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0100
			}
		}
	}
}

decision_harvest_stellar_matter_m = {
	owned_planets_only = no
	icon = decision_harvest_stellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_t_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_m_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys = @harvester_alloy_cost_m_star
			energy = 7500
		}
	}
	prerequisites = {
		tech_stellar_manip_harvester
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_harvester"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0100
			}
		}
	}
}

decision_harvest_stellar_matter_m_giant = {
	owned_planets_only = no
	icon = decision_harvest_stellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_t_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_m_giant_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys = @harvester_alloy_cost_m_giant_star
			energy = 7500
		}
	}
	prerequisites = {
		tech_stellar_manip_harvester
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_harvester"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0100
			}
		}
	}
}


##########################
#####Stellar Injector#####
##########################

decision_inject_stellar_mass_b = {
	owned_planets_only = no
	icon = decision_injectstellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	potential = {
		NOR = {
			has_global_flag = giga_o_stars_disabled
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_giga_o_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_b_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys =  @injector_alloy_cost_b_star
			sr_stellar_plasma = @injector_plasma_b_star
			energy = 10000
		}
	}
	prerequisites = {
		tech_stellar_manip_injector
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_injector"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0103
			}
		}
	}
}

decision_inject_stellar_mass_m_giant = {
	owned_planets_only = no
	icon = decision_injectstellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_giga_o_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_m_giant_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys =  @injector_alloy_cost_m_giant_star
			sr_stellar_plasma = @injector_plasma_m_giant_star
			energy = 10000
		}
	}
	prerequisites = {
		tech_stellar_manip_injector
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_injector"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0103
			}
		}
	}
}

decision_inject_stellar_mass_a = {
	owned_planets_only = no
	icon = decision_injectstellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_giga_o_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_a_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys =  @injector_alloy_cost_a_star
			sr_stellar_plasma = @injector_plasma_a_star
			energy = 10000
		}
	}
	prerequisites = {
		tech_stellar_manip_injector
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_injector"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0103
			}
		}
	}
}

decision_inject_stellar_mass_f = {
	owned_planets_only = no
	icon = decision_injectstellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_giga_o_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_f_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys =  @injector_alloy_cost_f_star
			sr_stellar_plasma = @injector_plasma_f_star
			energy = 10000
		}
	}
	prerequisites = {
		tech_stellar_manip_injector
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_injector"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0103
			}
		}
	}
}

decision_inject_stellar_mass_g = {
	owned_planets_only = no
	icon = decision_injectstellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_giga_o_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_g_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys =  @injector_alloy_cost_g_star
			sr_stellar_plasma = @injector_plasma_g_star
			energy = 10000
		}
	}
	prerequisites = {
		tech_stellar_manip_injector
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_injector"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0103
			}
		}
	}
}

decision_inject_stellar_mass_k = {
	owned_planets_only = no
	icon = decision_injectstellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_giga_o_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_k_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys =  @injector_alloy_cost_k_star
			sr_stellar_plasma = @injector_plasma_f_star
			energy = 10000
		}
	}
	prerequisites = {
		tech_stellar_manip_injector
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_injector"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0103
			}
		}
	}
}

decision_inject_stellar_mass_m = {
	owned_planets_only = no
	icon = decision_injectstellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_giga_o_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_m_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys =  @injector_alloy_cost_m_star
			sr_stellar_plasma = @injector_plasma_m_star
			energy = 10000
		}
	}
	prerequisites = {
		tech_stellar_manip_injector
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_injector"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0103
			}
		}
	}
}

decision_inject_stellar_mass_ignited = {
	owned_planets_only = no
	icon = decision_injectstellar_matter
	enactment_time = 0
	ai_weight = {
		weight = 0
	}
	show_tech_unlock_if = { always = no }
	potential = {
		NOR = {
			has_planet_flag = harvesting_star
			has_planet_flag = injecting_star
			has_planet_flag = has_megastructure
			is_planet_class = pc_giga_o_star
			space_owner = {
				is_ai = yes
			}
		}
		is_star = yes
		is_planet_class = pc_gigaignited_star
	}
	allow = {
		custom_tooltip = {
			fail_text = "star_manip_fail"
			solar_system = {
				NOT = { 
					giga_is_bitrinary = yes
					any_system_planet = {
						is_colonizable = yes
					}
				}
			}
		}
	}
	resources = {
		category = decisions
		cost = {
			alloys =  @injector_alloy_cost_ignited_star
			sr_stellar_plasma = @injector_plasma_ignited_star
			energy = 10000
		}
	}
	prerequisites = {
		tech_stellar_manip_injector
	}
	effect = {
		custom_tooltip = "decision_build_stellar_matter_injector"
		hidden_effect = {
			# current scope is planet, so you can just fire a planet_event
			planet_event = {
				id = star_manip.0103
			}
		}
	}
}